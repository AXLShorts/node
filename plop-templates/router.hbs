import { Router } from 'express';

import { 
  create{{pascalCase name}}, 
  get{{pascalCase name}}, 
  getAll{{pascalCase name}}s, 
  update{{pascalCase name}}, 
  delete{{pascalCase name}} 
} from '../controller/index';
import { validateRequest } from '../../../middleware/validation';
import { 
  create{{pascalCase name}}Schema, 
  update{{pascalCase name}}Schema, 
  {{camelCase name}}QuerySchema 
} from '../validation/index';

export const {{camelCase name}}Router = Router();

// Create {{kebabCase name}}
{{camelCase name}}Router.post(
  '/',
  validateRequest({ body: create{{pascalCase name}}Schema }),
  create{{pascalCase name}}
);

// Get all {{kebabCase name}}s
{{camelCase name}}Router.get(
  '/',
  getAll{{pascalCase name}}s
);

// Get {{kebabCase name}} by ID
{{camelCase name}}Router.get(
  '/:id',
  validateRequest({ params: {{camelCase name}}QuerySchema }),
  get{{pascalCase name}}
);

// Update {{kebabCase name}}
{{camelCase name}}Router.put(
  '/:id',
  validateRequest({ 
    params: {{camelCase name}}QuerySchema, 
    body: update{{pascalCase name}}Schema 
  }),
  update{{pascalCase name}}
);

// Delete {{kebabCase name}}
{{camelCase name}}Router.delete(
  '/:id',
  validateRequest({ params: {{camelCase name}}QuerySchema }),
  delete{{pascalCase name}}
);
